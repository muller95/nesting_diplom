\begin{figure}[h]
	\begin{center}
		\begin{tikzpicture}[box/.style={rectangle,draw=black, minimum size=0.5cm}]
			\foreach \x in {0,0.5,...,5}
				\foreach \y in {0,0.5,...,5}
					\node[box] at (\x,\y){};
					
				\node[box, fill=gray] at (2.0, 2.0){};
				\node[box, fill=gray] at (2.0, 1.5){};
				\node[box, fill=gray] at (2.0, 1.0){};
				\node[box, fill=gray] at (2.5, 1.0){};
				\node[box, fill=gray] at (3.0, 1.0){};
				\node[box, fill=gray] at (3.0, 1.5){};
				\node[box, fill=gray] at (3.0, 2.0){};
				\node[box, fill=gray] at (2.5, 2.0){};
				

				\node[box, pattern=crosshatch] at (2.5, 1.5){};
				
				\foreach \x in {0, 0.5,...,5}
					\node[box, pattern=north west lines] at (\x, 0){};
				
				\node[box, pattern=north west lines] at (0, 0.5){};
				\node[box, pattern=north west lines] at (0.5, 0.5){};
				\node[box, pattern=north west lines] at (0.5, 1.0){};
				\node[box, pattern=north west lines] at (0.5, 1.5){};
				\node[box, pattern=north west lines] at (1.0, 1.5){};
				\node[box, pattern=north west lines] at (1.0, 2.0){};
				\node[box, pattern=north west lines] at (1.0, 2.5){};
				\node[box, pattern=north west lines] at (1.0, 3.0){};
				\node[box, pattern=north west lines] at (1.0, 3.5){};
				\node[box, pattern=north west lines] at (1.5, 3.5){};
				\node[box, pattern=north west lines] at (2.0, 3.5){};
				\node[box, pattern=north west lines] at (2.0, 4.0){};
				\node[box, pattern=north west lines] at (2.0, 4.5){};
				\node[box, pattern=north west lines] at (2.5, 4.5){};
				\node[box, pattern=north west lines] at (2.5, 5.0){};
				
				\node[box, pattern=north west lines] at (5.0, 0.5){};
				\node[box, pattern=north west lines] at (4.5, 0.5){};
				\node[box, pattern=north west lines] at (4.5, 1.0){};
				\node[box, pattern=north west lines] at (4.5, 1.5){};
				\node[box, pattern=north west lines] at (4.0, 1.5){};
				\node[box, pattern=north west lines] at (4.0, 2.0){};
				\node[box, pattern=north west lines] at (4.0, 2.5){};
				\node[box, pattern=north west lines] at (4.0, 3.0){};
				\node[box, pattern=north west lines] at (4.0, 3.5){};
				\node[box, pattern=north west lines] at (3.5, 3.5){};
				\node[box, pattern=north west lines] at (3.0, 3.5){};
				\node[box, pattern=north west lines] at (3.0, 4.0){};
				\node[box, pattern=north west lines] at (3.0, 4.5){};
				
				\foreach \y in {1, 1.5, ..., 5}
					\node[box, pattern=crosshatch] at(0, \y){};
				\foreach \y in {2, 2.5, ..., 5}
					\node[box, pattern=crosshatch] at(0.5, \y){};
				\foreach \y in {4, 4.5, ..., 5}
					\node[box, pattern=crosshatch] at(1, \y){};
				\foreach \y in {4, 4.5, ..., 5}
					\node[box, pattern=crosshatch] at(1.5, \y){};
					
				\node[box, pattern=crosshatch] at(2, 5){};
				\node[box, pattern=crosshatch] at(3, 5){};
				
				\foreach \y in {1, 1.5, ..., 5}
				\node[box, pattern=crosshatch] at(5, \y){};
				\foreach \y in {2, 2.5, ..., 5}
				\node[box, pattern=crosshatch] at(4.5, \y){};
				\foreach \y in {4, 4.5, ..., 5}
				\node[box, pattern=crosshatch] at(4, \y){};
				\foreach \y in {4, 4.5, ..., 5}
				\node[box, pattern=crosshatch] at(3.5, \y){};
		\end{tikzpicture}
	\end{center}
	\caption{Результат четвёртого шага алгоритма <<заливки>> пустых мест}
	\label{4fill_result}
\end{figure}